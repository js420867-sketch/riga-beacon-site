(()=>{var e={};e.id=699,e.ids=[699],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1334:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>u}),t(3926),t(893),t(4403),t(996);var s=t(170),r=t(5002),n=t(3876),l=t.n(n),i=t(6299),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(a,o);let u=["",{children:["admin",{children:["events",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3926)),"C:\\Users\\SPAR Manager\\.openclaw\\workspace\\riga-beacon-site\\riga-beacon-site-main\\app\\admin\\events\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,893)),"C:\\Users\\SPAR Manager\\.openclaw\\workspace\\riga-beacon-site\\riga-beacon-site-main\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,4403)),"C:\\Users\\SPAR Manager\\.openclaw\\workspace\\riga-beacon-site\\riga-beacon-site-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,996,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\SPAR Manager\\.openclaw\\workspace\\riga-beacon-site\\riga-beacon-site-main\\app\\admin\\events\\[id]\\page.tsx"],c="/admin/events/[id]/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/events/[id]/page",pathname:"/admin/events/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},3261:(e,a,t)=>{Promise.resolve().then(t.bind(t,8444))},8546:()=>{},7429:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,3642,23)),Promise.resolve().then(t.t.bind(t,7586,23)),Promise.resolve().then(t.t.bind(t,7838,23)),Promise.resolve().then(t.t.bind(t,8057,23)),Promise.resolve().then(t.t.bind(t,7741,23)),Promise.resolve().then(t.t.bind(t,3118,23))},5303:()=>{},8444:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var s=t(7247),r=t(8964),n=t(8256),l=t(4178);function i(){let{id:e}=(0,l.useParams)(),a=(0,l.useRouter)(),[t,i]=(0,r.useState)(!0),[o,u]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[g,h]=(0,r.useState)(""),[x,v]=(0,r.useState)(""),[b,f]=(0,r.useState)(""),[P,j]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[S,_]=(0,r.useState)(""),[C,k]=(0,r.useState)("draft"),[y,A]=(0,r.useState)(null),U=async t=>{let s;if(t.preventDefault(),y){let e=`events/${Date.now()}_${y.name}`,{error:a}=await n.O.storage.from("media").upload(e,y);a||(s=n.O.storage.from("media").getPublicUrl(e).data.publicUrl)}await n.O.from("events").update({title:o,slug:d,description:{html:p},start_at:g,end_at:x,venue:b,age_group:P,category:w,tags:S,status:C,...s?{cover_url:s}:{}}).eq("id",e),a.push("/admin/events")};return t?s.jsx("div",{children:"Notiek ielāde…"}):(0,s.jsxs)("div",{className:"max-w-2xl",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Rediģēt pasākumu"}),(0,s.jsxs)("form",{onSubmit:U,className:"space-y-3",children:[s.jsx("input",{className:"border p-2 w-full",placeholder:"Nosaukums",value:o,onChange:e=>u(e.target.value)}),s.jsx("input",{className:"border p-2 w-full",placeholder:"Slugs",value:d,onChange:e=>c(e.target.value)}),s.jsx("textarea",{className:"border p-2 w-full min-h-[160px]",placeholder:"Apraksts",value:p,onChange:e=>m(e.target.value)}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"datetime-local",className:"border p-2 w-full",value:g,onChange:e=>h(e.target.value)}),s.jsx("input",{type:"datetime-local",className:"border p-2 w-full",value:x,onChange:e=>v(e.target.value)})]}),s.jsx("input",{className:"border p-2 w-full",placeholder:"Vieta",value:b,onChange:e=>f(e.target.value)}),s.jsx("input",{className:"border p-2 w-full",placeholder:"Vecuma grupa",value:P,onChange:e=>j(e.target.value)}),s.jsx("input",{className:"border p-2 w-full",placeholder:"Kategorija",value:w,onChange:e=>N(e.target.value)}),s.jsx("input",{className:"border p-2 w-full",placeholder:"Birkas (komatiem)",value:S,onChange:e=>_(e.target.value)}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"file",onChange:e=>A(e.target.files?.[0]||null)}),(0,s.jsxs)("select",{value:C,onChange:e=>k(e.target.value),className:"border p-2",children:[s.jsx("option",{value:"draft",children:"Melnraksts"}),s.jsx("option",{value:"published",children:"Publicēts"})]})]}),s.jsx("button",{className:"bg-black text-white px-4 py-2",children:"Saglabāt"})]})]})}},8256:(e,a,t)=>{"use strict";t.d(a,{O:()=>s});let s=(0,t(4039).eI)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)},3926:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(5347).createProxy)(String.raw`C:\Users\SPAR Manager\.openclaw\workspace\riga-beacon-site\riga-beacon-site-main\app\admin\events\[id]\page.tsx#default`)},893:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var s=t(2051);function r({children:e}){return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Administrēšana"}),e]})}},4403:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n,metadata:()=>r});var s=t(2051);t(7272);let r={title:"Rīgas Bākas centrs",description:"Rīgas Bākas centrs — jaunumi un pasākumi"};function n({children:e}){return s.jsx("html",{lang:"lv",children:s.jsx("body",{className:"min-h-screen bg-white text-gray-900",children:e})})}},7272:()=>{}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[787,39,791],()=>t(1334));module.exports=s})();